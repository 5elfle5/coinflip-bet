import{C as Bn,E as On,g as Wn,V as Dn,T as ut,a as dt,S as Un,P as Gt}from"./coral-CEYAF2_Q.js";import{r as y,a as g}from"./jotai-BbwHuUxQ.js";import{r as kn}from"./react-DigmodT6.js";const Yt=y.createContext({});function zn(){return y.useContext(Yt)}const ci=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=y.useMemo(()=>new Bn(t,n),[t,n]);return g.createElement(Yt.Provider,{value:{connection:r}},e)};class K extends Error{constructor(t,n){super(t),this.error=n}}class he extends K{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Ce extends K{constructor(){super(...arguments),this.name="WalletConfigError"}}class be extends K{constructor(){super(...arguments),this.name="WalletConnectionError"}}class qt extends K{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Fn extends K{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class de extends K{constructor(){super(...arguments),this.name="WalletAccountError"}}class Jt extends K{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class q extends K{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ie extends K{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class oe extends K{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Qt extends K{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Rt extends K{constructor(){super(...arguments),this.name="WalletSignInError"}}var L;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(L||(L={}));class Zt extends On{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const s=this.publicKey;if(!s)throw new q;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function ae(e){return"version"in e}class xn extends Zt{async sendTransaction(t,n,r={}){let s=!0;try{if(ae(t)){if(!this.supportedTransactionVersions)throw new ie("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new ie(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof oe?(s=!1,i):new ie(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof oe?(s=!1,i):new ie(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(ae(r)){if(!this.supportedTransactionVersions)throw new oe("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new oe(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}}class Kn extends xn{}class jn extends Kn{}const te="solana:signAndSendTransaction",qe="solana:signIn",Ee="solana:signMessage",z="solana:signTransaction",Xt="standard:connect",It="standard:disconnect",en="standard:events";function Vn(e){return Xt in e.features&&en in e.features&&(te in e.features||z in e.features)}class vt extends K{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const $n=[],Ke={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Y("call","select")},connect(){return Promise.reject(Y("call","connect"))},disconnect(){return Promise.reject(Y("call","disconnect"))},sendTransaction(){return Promise.reject(Y("call","sendTransaction"))},signTransaction(){return Promise.reject(Y("call","signTransaction"))},signAllTransactions(){return Promise.reject(Y("call","signAllTransactions"))},signMessage(){return Promise.reject(Y("call","signMessage"))},signIn(){return Promise.reject(Y("call","signIn"))}};Object.defineProperty(Ke,"wallets",{get(){return Y("read","wallets"),$n}});Object.defineProperty(Ke,"wallet",{get(){return Y("read","wallet"),null}});Object.defineProperty(Ke,"publicKey",{get(){return Y("read","publicKey"),null}});function Y(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const tn=y.createContext(Ke);function nn(){return y.useContext(tn)}function Hn(e,t){const n=y.useState(()=>{try{const i=localStorage.getItem(e);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=n[0],s=y.useRef(!0);return y.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,e]),n}function Je(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Nt="solana:mainnet",Gn="solana:devnet",Yn="solana:testnet",qn="solana:localnet",Jn="https://api.mainnet-beta.solana.com";function Qn(e){return e.includes(Jn)?Nt:/\bdevnet\b/i.test(e)?Gn:/\btestnet\b/i.test(e)?Yn:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?qn:Nt}function Zn(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const r of e.resources)n.push(`- ${r}`)}return n.length&&(t+=`

${n.join(`
`)}`),t}const Q={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Z extends Error{constructor(...t){const[n,r,s]=t;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class rn extends Error{constructor(...t){const[n,r,s,i]=t;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function W(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function Qe(e,t){return W(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function Xn(e){return window.btoa(e)}function er(e){return Zn(e)}function tr(e){return Xn(er(e))}const nr="solana:signTransactions",Mt="solana:cloneAuthorization";function rr(e,t){return new Proxy({},{get(n,r){return n[r]==null&&(n[r]=function(s){return W(this,void 0,void 0,function*(){const{method:i,params:o}=sr(r,s,e),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield or(o.sign_in_payload,a,t)),ir(r,a,e)})}),n[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function sr(e,t,n){let r=t,s=e.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function ir(e,t,n){switch(e){case"getCapabilities":{const r=t;switch(n){case"legacy":{const s=[nr];return r.supports_clone_authorization===!0&&s.push(Mt),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Mt)})}}}return t}function or(e,t,n){var r;return W(this,void 0,void 0,function*(){const s=(r=e.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,o=tr(Object.assign(Object.assign({},e),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const ce=4;function ar(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(ce);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const ft=12,sn=65;function cr(e,t,n){return W(this,void 0,void 0,function*(){const r=ar(t),s=new Uint8Array(ft);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(an(r,s),n,new TextEncoder().encode(e)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function on(e,t){return W(this,void 0,void 0,function*(){const n=e.slice(0,ce),r=e.slice(ce,ce+ft),s=e.slice(ce+ft),i=yield crypto.subtle.decrypt(an(n,r),t,s);return lr().decode(i)})}function an(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let Ze;function lr(){return Ze===void 0&&(Ze=new TextDecoder("utf-8")),Ze}function ur(){return W(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Xe(){return W(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function dr(e,t){return W(this,void 0,void 0,function*(){const n=JSON.stringify(e),r=e.id;return cr(n,r,t)})}function fr(e,t){return W(this,void 0,void 0,function*(){const n=yield on(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new rn(r.id,r.error.code,r.error.message);return r})}function hr(e,t,n){return W(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,sn),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function gr(e,t){return W(this,void 0,void 0,function*(){const n=yield on(e,t),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Z(Q.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}function mr(){return cn(49152+Math.floor(Math.random()*16384))}function cn(e){if(e<49152||e>65535)throw new Z(Q.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function wr(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(n[s]);return window.btoa(t)}function pr(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const yr="solana-wallet";function Pt(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Er(e,t){let n=null;if(t){try{n=new URL(t)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Z(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${yr}:/`));const r=e.startsWith("/")?e:[...Pt(n.pathname),...Pt(e)].join("/");return new URL(r,n)}function _r(e,t,n,r=["v1"]){return W(this,void 0,void 0,function*(){const s=cn(t),i=yield crypto.subtle.exportKey("raw",e),o=wr(i),a=Er("v1/associate/local",n);return a.searchParams.set("association",pr(o)),a.searchParams.set("port",`${s}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}const Ue={Firefox:0,Other:1};function Cr(){return navigator.userAgent.indexOf("Firefox/")!==-1?Ue.Firefox:Ue.Other}function br(){return new Promise((e,t)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),t()},2e3)})}let _e=null;function Sr(e){_e==null&&(_e=document.createElement("iframe"),_e.style.display="none",document.body.appendChild(_e)),_e.contentWindow.location.href=e.toString()}function Ar(e){return W(this,void 0,void 0,function*(){if(e.protocol==="https:")window.location.assign(e);else try{const t=Cr();switch(t){case Ue.Firefox:Sr(e);break;case Ue.Other:{const n=br();window.location.assign(e),yield n;break}default:}}catch{throw new Z(Q.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Tr(e,t){return W(this,void 0,void 0,function*(){const n=mr(),r=yield _r(e,n,t);return yield Ar(r),n})}const Lt={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Rr="com.solana.mobilewalletadapter.v1";function Ir(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Z(Q.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function vr(e){let t;try{t=new URL(e)}catch{throw new Z(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new Z(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Bt(e){return new DataView(e).getUint32(0,!1)}function Nr(e,t){return W(this,void 0,void 0,function*(){Ir();const n=yield ur(),s=`ws://localhost:${yield Tr(n.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const o=(()=>{const l=[...Lt.retryDelayScheduleMs];return()=>l.length>1?l.shift():l[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise((l,f)=>{let m;const d={},E=()=>W(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}m.removeEventListener("open",E);const{associationKeypair:A}=u,C=yield Xe();m.send(yield Qe(C.publicKey,A.privateKey)),u={__type:"hello_req_sent",associationPublicKey:A.publicKey,ecdhPrivateKey:C.privateKey}}),b=A=>{A.wasClean?u={__type:"disconnected"}:f(new Z(Q.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${A.code}: ${A.reason}).`,{closeEvent:A})),w()},S=A=>W(this,void 0,void 0,function*(){w(),Date.now()-i>=Lt.timeoutMs?f(new Z(Q.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(C=>{const R=o();h=window.setTimeout(C,R)}),p())}),_=A=>W(this,void 0,void 0,function*(){const C=yield A.data.arrayBuffer();switch(u.__type){case"connecting":if(C.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const R=yield Xe();m.send(yield Qe(R.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:R.privateKey};break;case"connected":try{const M=C.slice(0,ce),D=Bt(M);if(D!==c+1)throw new Error("Encrypted message has invalid sequence number");c=D;const U=yield fr(C,u.sharedSecret),G=d[U.id];delete d[U.id],G.resolve(U.result)}catch(M){if(M instanceof rn){const D=d[M.jsonRpcMessageId];delete d[M.jsonRpcMessageId],D.reject(M)}else throw M}break;case"hello_req_sent":{if(C.byteLength===0){const x=yield Xe();m.send(yield Qe(x.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:x.privateKey};break}const M=yield hr(C,u.associationPublicKey,u.ecdhPrivateKey),D=C.slice(sn),U=D.byteLength!==0?yield W(this,void 0,void 0,function*(){const x=D.slice(0,ce),k=Bt(x);if(k!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=k,gr(D,M)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:M,sessionProperties:U};const G=rr(U.protocol_version,(x,k)=>W(this,void 0,void 0,function*(){const Ne=a++;return m.send(yield dr({id:Ne,jsonrpc:"2.0",method:x,params:k??{}},M)),new Promise((I,P)=>{d[Ne]={resolve(B){switch(x){case"authorize":case"reauthorize":{const{wallet_uri_base:V}=B;if(V!=null)try{vr(V)}catch(X){P(X);return}break}}I(B)},reject:P}})}));try{l(yield e(G))}catch(x){f(x)}finally{w(),m.close()}break}}});let w,h;const p=()=>{w&&w(),u={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),m=new WebSocket(s,[Rr]),m.addEventListener("open",E),m.addEventListener("close",b),m.addEventListener("error",S),m.addEventListener("message",_),w=()=>{window.clearTimeout(h),m.removeEventListener("open",E),m.removeEventListener("close",b),m.removeEventListener("error",S),m.removeEventListener("message",_)}};p()})})}function Mr(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var E=0,b=0,S=0,_=d.length;S!==_&&d[S]===0;)S++,E++;for(var w=(_-S)*u+1>>>0,h=new Uint8Array(w);S!==_;){for(var p=d[S],A=0,C=w-1;(p!==0||A<b)&&C!==-1;C--,A++)p+=256*h[C]>>>0,h[C]=p%o>>>0,p=p/o>>>0;if(p!==0)throw new Error("Non-zero carry");b=A,S++}for(var R=w-b;R!==w&&h[R]===0;)R++;for(var M=a.repeat(E);R<w;++R)M+=e.charAt(h[R]);return M}function f(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;for(var E=0,b=0,S=0;d[E]===a;)b++,E++;for(var _=(d.length-E)*c+1>>>0,w=new Uint8Array(_);d[E];){var h=t[d.charCodeAt(E)];if(h===255)return;for(var p=0,A=_-1;(h!==0||p<S)&&A!==-1;A--,p++)h+=o*w[A]>>>0,w[A]=h%256>>>0,h=h/256>>>0;if(h!==0)throw new Error("Non-zero carry");S=p,E++}for(var C=_-S;C!==_&&w[C]===0;)C++;for(var R=new Uint8Array(b+(_-C)),M=b;C!==_;)R[M++]=w[C++];return R}function m(d){var E=f(d);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:f,decode:m}}var Pr=Mr;const Lr=Pr,Br="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Or=Lr(Br);const ln=Wn(Or);function et(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Me(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function un(e){return window.btoa(String.fromCharCode.call(null,...e))}function tt(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function Ot(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return un(t)}function Wr(e){const n=e[0]*Un+1;return Dn.deserializeMessageVersion(e.slice(n,e.length))==="legacy"?ut.from(e):dt.deserialize(e)}function Dr(e,t){return Me(this,void 0,void 0,function*(){return yield Nr(r=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(a){var{minContextSlot:c,commitment:u,skipPreflight:l,maxRetries:f,waitForCommitmentToSendNextTransaction:m,transactions:d}=a,E=et(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Me(this,void 0,void 0,function*(){const b=d.map(Ot),S={min_context_slot:c,commitment:u,skip_preflight:l,max_retries:f,wait_for_commitment_to_send_next_transaction:m},{signatures:_}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},E),Object.values(S).some(h=>h!=null)?{options:S}:null),{payloads:b}));return _.map(tt).map(ln.encode)})};break;case"signMessages":i[o]=function(a){var{payloads:c}=a,u=et(a,["payloads"]);return Me(this,void 0,void 0,function*(){const l=c.map(un),{signed_payloads:f}=yield r.signMessages(Object.assign(Object.assign({},u),{payloads:l}));return f.map(tt)})};break;case"signTransactions":i[o]=function(a){var{transactions:c}=a,u=et(a,["transactions"]);return Me(this,void 0,void 0,function*(){const l=c.map(Ot),{signed_payloads:f}=yield r.signTransactions(Object.assign(Object.assign({},u),{payloads:l}));return f.map(tt).map(Wr)})};break;default:{i[o]=r[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return e(s)},t)})}var Ur=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},dn={},H={};let Ct;const kr=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};H.getSymbolTotalCodewords=function(t){return kr[t]};H.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};H.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ct=t};H.isKanjiModeEnabled=function(){return typeof Ct<"u"};H.toSJIS=function(t){return Ct(t)};var je={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(je);function fn(){this.buffer=[],this.length=0}fn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var zr=fn;function ve(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ve.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};ve.prototype.get=function(e,t){return this.data[e*this.size+t]};ve.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};ve.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Fr=ve,hn={};(function(e){const t=H.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(hn);var gn={};const xr=H.getSymbolSize,Wt=7;gn.getPositions=function(t){const n=xr(t);return[[0,0],[n-Wt,0],[0,n-Wt]]};var mn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,u=null,l=null;for(let f=0;f<i;f++){a=c=0,u=l=null;for(let m=0;m<i;m++){let d=s.get(f,m);d===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=d,a=1),d=s.get(m,f),d===l?c++:(c>=5&&(o+=t.N1+(c-5)),l=d,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let l=0;l<i;l++)a=a<<1&2047|s.get(u,l),l>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(l,u),l>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,n(s,c,a))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,s);const l=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),l<c&&(c=l,a=u)}return a}})(mn);var Ve={};const ne=je,Pe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Le=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ve.getBlocksCount=function(t,n){switch(n){case ne.L:return Pe[(t-1)*4+0];case ne.M:return Pe[(t-1)*4+1];case ne.Q:return Pe[(t-1)*4+2];case ne.H:return Pe[(t-1)*4+3];default:return}};Ve.getTotalCodewordsCount=function(t,n){switch(n){case ne.L:return Le[(t-1)*4+0];case ne.M:return Le[(t-1)*4+1];case ne.Q:return Le[(t-1)*4+2];case ne.H:return Le[(t-1)*4+3];default:return}};var wn={},$e={};const Ae=new Uint8Array(512),ke=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ae[n]=t,ke[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ae[n]=Ae[n-255]})();$e.log=function(t){if(t<1)throw new Error("log("+t+")");return ke[t]};$e.exp=function(t){return Ae[t]};$e.mul=function(t,n){return t===0||n===0?0:Ae[ke[t]+ke[n]]};(function(e){const t=$e;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(r[o],s[a]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(wn);const pn=wn;function bt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}bt.prototype.initialize=function(t){this.degree=t,this.genPoly=pn.generateECPolynomial(this.degree)};bt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=pn.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var Kr=bt,yn={},re={},St={};St.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var J={};const En="[0-9]+",jr="[A-Z $%*+\\-./:]+";let Ie="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ie=Ie.replace(/u/g,"\\u");const Vr="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ie+`)(?:.|[\r
]))+`;J.KANJI=new RegExp(Ie,"g");J.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");J.BYTE=new RegExp(Vr,"g");J.NUMERIC=new RegExp(En,"g");J.ALPHANUMERIC=new RegExp(jr,"g");const $r=new RegExp("^"+Ie+"$"),Hr=new RegExp("^"+En+"$"),Gr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");J.testKanji=function(t){return $r.test(t)};J.testNumeric=function(t){return Hr.test(t)};J.testAlphanumeric=function(t){return Gr.test(t)};(function(e){const t=St,n=J;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}})(re);(function(e){const t=H,n=Ve,r=je,s=re,i=St,o=7973,a=t.getBCHDigit(o);function c(m,d,E){for(let b=1;b<=40;b++)if(d<=e.getCapacity(b,E,m))return b}function u(m,d){return s.getCharCountIndicator(m,d)+4}function l(m,d){let E=0;return m.forEach(function(b){const S=u(b.mode,d);E+=S+b.getBitsLength()}),E}function f(m,d){for(let E=1;E<=40;E++)if(l(m,E)<=e.getCapacity(E,d,s.MIXED))return E}e.from=function(d,E){return i.isValid(d)?parseInt(d,10):E},e.getCapacity=function(d,E,b){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=s.BYTE);const S=t.getSymbolTotalCodewords(d),_=n.getTotalCodewordsCount(d,E),w=(S-_)*8;if(b===s.MIXED)return w;const h=w-u(b,d);switch(b){case s.NUMERIC:return Math.floor(h/10*3);case s.ALPHANUMERIC:return Math.floor(h/11*2);case s.KANJI:return Math.floor(h/13);case s.BYTE:default:return Math.floor(h/8)}},e.getBestVersionForData=function(d,E){let b;const S=r.from(E,r.M);if(Array.isArray(d)){if(d.length>1)return f(d,S);if(d.length===0)return 1;b=d[0]}else b=d;return c(b.mode,b.getLength(),S)},e.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");let E=d<<12;for(;t.getBCHDigit(E)-a>=0;)E^=o<<t.getBCHDigit(E)-a;return d<<12|E}})(yn);var _n={};const ht=H,Cn=1335,Yr=21522,Dt=ht.getBCHDigit(Cn);_n.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;ht.getBCHDigit(s)-Dt>=0;)s^=Cn<<ht.getBCHDigit(s)-Dt;return(r<<10|s)^Yr};var bn={};const qr=re;function me(e){this.mode=qr.NUMERIC,this.data=e.toString()}me.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var Jr=me;const Qr=re,nt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function we(e){this.mode=Qr.ALPHANUMERIC,this.data=e}we.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=nt.indexOf(this.data[n])*45;r+=nt.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(nt.indexOf(this.data[n]),6)};var Zr=we;const Xr=re;function pe(e){this.mode=Xr.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}pe.getBitsLength=function(t){return t*8};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var es=pe;const ts=re,ns=H;function ye(e){this.mode=ts.KANJI,this.data=e}ye.getBitsLength=function(t){return t*13};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=ns.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var rs=ye,Sn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,u,l,f,m,d,E,b,S;!a.empty();){c=a.pop(),u=c.value,f=c.cost,m=n[u]||{};for(l in m)m.hasOwnProperty(l)&&(d=m[l],E=f+d,b=o[l],S=typeof o[l]>"u",(S||b>E)&&(o[l]=E,a.push(l,E),i[l]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var _=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Sn);var ss=Sn.exports;(function(e){const t=re,n=Jr,r=Zr,s=es,i=rs,o=J,a=H,c=ss;function u(_){return unescape(encodeURIComponent(_)).length}function l(_,w,h){const p=[];let A;for(;(A=_.exec(h))!==null;)p.push({data:A[0],index:A.index,mode:w,length:A[0].length});return p}function f(_){const w=l(o.NUMERIC,t.NUMERIC,_),h=l(o.ALPHANUMERIC,t.ALPHANUMERIC,_);let p,A;return a.isKanjiModeEnabled()?(p=l(o.BYTE,t.BYTE,_),A=l(o.KANJI,t.KANJI,_)):(p=l(o.BYTE_KANJI,t.BYTE,_),A=[]),w.concat(h,p,A).sort(function(R,M){return R.index-M.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function m(_,w){switch(w){case t.NUMERIC:return n.getBitsLength(_);case t.ALPHANUMERIC:return r.getBitsLength(_);case t.KANJI:return i.getBitsLength(_);case t.BYTE:return s.getBitsLength(_)}}function d(_){return _.reduce(function(w,h){const p=w.length-1>=0?w[w.length-1]:null;return p&&p.mode===h.mode?(w[w.length-1].data+=h.data,w):(w.push(h),w)},[])}function E(_){const w=[];for(let h=0;h<_.length;h++){const p=_[h];switch(p.mode){case t.NUMERIC:w.push([p,{data:p.data,mode:t.ALPHANUMERIC,length:p.length},{data:p.data,mode:t.BYTE,length:p.length}]);break;case t.ALPHANUMERIC:w.push([p,{data:p.data,mode:t.BYTE,length:p.length}]);break;case t.KANJI:w.push([p,{data:p.data,mode:t.BYTE,length:u(p.data)}]);break;case t.BYTE:w.push([{data:p.data,mode:t.BYTE,length:u(p.data)}])}}return w}function b(_,w){const h={},p={start:{}};let A=["start"];for(let C=0;C<_.length;C++){const R=_[C],M=[];for(let D=0;D<R.length;D++){const U=R[D],G=""+C+D;M.push(G),h[G]={node:U,lastCount:0},p[G]={};for(let x=0;x<A.length;x++){const k=A[x];h[k]&&h[k].node.mode===U.mode?(p[k][G]=m(h[k].lastCount+U.length,U.mode)-m(h[k].lastCount,U.mode),h[k].lastCount+=U.length):(h[k]&&(h[k].lastCount=U.length),p[k][G]=m(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,w))}}A=M}for(let C=0;C<A.length;C++)p[A[C]].end=0;return{map:p,table:h}}function S(_,w){let h;const p=t.getBestModeForData(_);if(h=t.from(w,p),h!==t.BYTE&&h.bit<p.bit)throw new Error('"'+_+'" cannot be encoded with mode '+t.toString(h)+`.
 Suggested mode is: `+t.toString(p));switch(h===t.KANJI&&!a.isKanjiModeEnabled()&&(h=t.BYTE),h){case t.NUMERIC:return new n(_);case t.ALPHANUMERIC:return new r(_);case t.KANJI:return new i(_);case t.BYTE:return new s(_)}}e.fromArray=function(w){return w.reduce(function(h,p){return typeof p=="string"?h.push(S(p,null)):p.data&&h.push(S(p.data,p.mode)),h},[])},e.fromString=function(w,h){const p=f(w,a.isKanjiModeEnabled()),A=E(p),C=b(A,h),R=c.find_path(C.map,"start","end"),M=[];for(let D=1;D<R.length-1;D++)M.push(C.table[R[D]].node);return e.fromArray(d(M))},e.rawSplit=function(w){return e.fromArray(f(w,a.isKanjiModeEnabled()))}})(bn);const He=H,rt=je,is=zr,os=Fr,as=hn,cs=gn,gt=mn,mt=Ve,ls=Kr,ze=yn,us=_n,ds=re,st=bn;function fs(e,t){const n=e.size,r=cs.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(i+a,o+c,!0,!0):e.set(i+a,o+c,!1,!0))}}function hs(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function gs(e,t){const n=as.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(s+o,i+a,!0,!0):e.set(s+o,i+a,!1,!0)}}function ms(e,t){const n=e.size,r=ze.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function it(e,t,n){const r=e.size,s=us.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(r-15+i,8,o,!0),i<8?e.set(8,r-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(r-8,8,1,!0)}function ws(e,t){const n=e.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,a-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(s,a-c,u),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function ps(e,t,n){const r=new is;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),ds.getCharCountIndicator(c.mode,e)),c.write(r)});const s=He.getSymbolTotalCodewords(e),i=mt.getTotalCodewordsCount(e,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return ys(r,e,t)}function ys(e,t,n){const r=He.getSymbolTotalCodewords(t),s=mt.getTotalCodewordsCount(t,n),i=r-s,o=mt.getBlocksCount(t,n),a=r%o,c=o-a,u=Math.floor(r/o),l=Math.floor(i/o),f=l+1,m=u-l,d=new ls(m);let E=0;const b=new Array(o),S=new Array(o);let _=0;const w=new Uint8Array(e.buffer);for(let R=0;R<o;R++){const M=R<c?l:f;b[R]=w.slice(E,E+M),S[R]=d.encode(b[R]),E+=M,_=Math.max(_,M)}const h=new Uint8Array(r);let p=0,A,C;for(A=0;A<_;A++)for(C=0;C<o;C++)A<b[C].length&&(h[p++]=b[C][A]);for(A=0;A<m;A++)for(C=0;C<o;C++)h[p++]=S[C][A];return h}function Es(e,t,n,r){let s;if(Array.isArray(e))s=st.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const l=st.rawSplit(e);u=ze.getBestVersionForData(l,n)}s=st.fromString(e,u||40)}else throw new Error("Invalid data");const i=ze.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=ps(t,n,s),a=He.getSymbolSize(t),c=new os(a);return fs(c,t),hs(c),gs(c,t),it(c,n,0),t>=7&&ms(c,t),ws(c,o),isNaN(r)&&(r=gt.getBestMask(c,it.bind(null,c,n))),gt.applyMask(r,c),it(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}dn.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=rt.M,s,i;return typeof n<"u"&&(r=rt.from(n.errorCorrectionLevel,rt.M),s=ze.from(n.version),i=gt.from(n.maskPattern),n.toSJISFunc&&He.setToSJISFunction(n.toSJISFunc)),Es(t,s,r,i)};var An={},At={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),l=i.margin*c,f=[i.color.light,i.color.dark];for(let m=0;m<u;m++)for(let d=0;d<u;d++){let E=(m*u+d)*4,b=i.color.light;if(m>=l&&d>=l&&m<u-l&&d<u-l){const S=Math.floor((m-l)/c),_=Math.floor((d-l)/c);b=f[a[S*o+_]?1:0]}r[E++]=b.r,r[E++]=b.g,r[E++]=b.b,r[E]=b.a}}})(At);(function(e){const t=At;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=t.getOptions(c);const l=t.getImageWidth(i.modules.size,c),f=u.getContext("2d"),m=f.createImageData(l,l);return t.qrToImageData(m.data,i,c),n(f,u,l),f.putImageData(m,0,0),u},e.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),l=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(l,f.quality)}})(An);var Tn={};const _s=At;function Ut(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ot(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function Cs(e,t,n){let r="",s=0,i=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),u=Math.floor(a/t);!c&&!i&&(i=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(r+=i?ot("M",c+n,.5+u+n):ot("m",s,0),s=0,i=!1),c+1<t&&e[a+1]||(r+=ot("h",o),o=0)):s++}return r}Tn.render=function(t,n,r){const s=_s.getOptions(n),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+Ut(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Ut(s.color.dark,"stroke")+' d="'+Cs(o,i,s.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+l+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,m),m};const bs=Ur,wt=dn,Rn=An,Ss=Tn;function Tt(e,t,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!bs())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,u){try{const l=wt.create(n,r);c(e(l,t,r))}catch(l){u(l)}})}try{const c=wt.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}wt.create;Tt.bind(null,Rn.render);Tt.bind(null,Rn.renderToDataURL);Tt.bind(null,function(e,t,n){return Ss.render(e,n)});function v(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function Oe(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function As(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const ee="Mobile Wallet Adapter",Ts=64;function Rs(e){const t=Oe(e);return new Gt(t)}function kt(e){return"version"in e}function Is(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class vs extends jn{constructor(t){var n;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ee,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=As()?L.Loadable:L.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(n=t.chain)!==null&&n!==void 0?n:Is(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==L.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Rs(this._selectedAddress)}catch(t){throw new Jt(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==L.Installed&&this.emit("readyStateChange",this._readyState=L.Installed)}runWithGuard(t){return v(this,void 0,void 0,function*(){try{return yield t()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return v(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return v(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){if(this._readyState!==L.Installed&&this._readyState!==L.Loadable)throw new he;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new be(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return v(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){if(this._readyState!==L.Installed&&this._readyState!==L.Loadable)throw new he;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new be(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return v(this,void 0,void 0,function*(){try{const n=yield this._authorizationResultCache.get();return n?(this.handleAuthorizationResult(n),n):yield this.transact(r=>v(this,void 0,void 0,function*(){const s=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(n){throw new be(n instanceof Error&&n.message||"Unknown error",n)}})}handleAuthorizationResult(t){var n;return v(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,n){return v(this,void 0,void 0,function*(){try{const r=yield t.authorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new qt(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return v(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var n;return v(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,s=r?{baseUri:r}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield Dr(t,Object.assign(Object.assign({},s),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new q;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return v(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>v(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:t})}))}catch(r){throw new oe(r==null?void 0:r.message,r)}})}sendTransaction(t,n,r){return v(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>v(this,void 0,void 0,function*(){function a(){let f;switch(n.commitment){case"confirmed":case"finalized":case"processed":f=n.commitment;break;default:f="finalized"}let m;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":m=r.preflightCommitment;break;case void 0:m=f;break;default:m="finalized"}return(m==="finalized"?2:m==="confirmed"?1:0)<(f==="finalized"?2:f==="confirmed"?1:0)?m:f}const[c,u,l]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),kt(t)?null:v(this,void 0,void 0,function*(){var f;if(t.feePayer||(t.feePayer=(f=this.publicKey)!==null&&f!==void 0?f:void 0),t.recentBlockhash==null){const{blockhash:m}=yield n.getLatestBlockhash({commitment:a()});t.recentBlockhash=m}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[f]=yield o.signTransactions({transactions:[t]});if(kt(f))return yield n.sendTransaction(f);{const m=f.serialize();return yield n.sendRawTransaction(m,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new ie(o==null?void 0:o.message,o)}}))})}signTransaction(t){return v(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([t]);return n}))})}signAllTransactions(t){return v(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return v(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(s=>v(this,void 0,void 0,function*(){yield this.performReauthorization(s,n);const[i]=yield s.signMessages({addresses:[r],payloads:[t]});return i.slice(-Ts)}))}catch(s){throw new Qt(s==null?void 0:s.message,s)}}))})}signIn(t){return v(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>v(this,void 0,void 0,function*(){var n,r;if(this._readyState!==L.Installed&&this._readyState!==L.Loadable)throw new he;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(n=t==null?void 0:t.domain)!==null&&n!==void 0?n:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=s.accounts.find(a=>a.address==i))!==null&&r!==void 0?r:{address:i}),{publicKey:Oe(i)}),signedMessage:Oe(s.sign_in_result.signed_message),signature:Oe(s.sign_in_result.signature)}}catch(s){throw new be(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function Ns(){return{select(e){return v(this,void 0,void 0,function*(){return e[0]})}}}const at="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Ms(){let e;try{e=window.localStorage}catch{}return{clear(){return v(this,void 0,void 0,function*(){if(e)try{e.removeItem(at)}catch{}})},get(){return v(this,void 0,void 0,function*(){if(e)try{return JSON.parse(e.getItem(at))||void 0}catch{}})},set(t){return v(this,void 0,void 0,function*(){if(e)try{e.setItem(at,JSON.stringify(t))}catch{}})}}}function Ps(e){return v(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(e.url)})}function Ls(){return Ps}function Bs(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var O=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},T=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},F,j,le,ue,se,Se,Fe,N,xe,pt,We,yt,Te,Et,zt,Ft,xt,Kt;class Os extends Zt{constructor({wallet:t}){super(),F.add(this),j.set(this,void 0),le.set(this,void 0),ue.set(this,void 0),se.set(this,void 0),Se.set(this,void 0),Fe.set(this,void 0),N.set(this,void 0),xe.set(this,typeof window>"u"||typeof document>"u"?L.Unsupported:L.Installed),Et.set(this,n=>{if("accounts"in n){const r=T(this,N,"f").accounts[0];T(this,j,"f")&&!T(this,se,"f")&&r!==T(this,j,"f")&&(r?T(this,F,"m",We).call(this,r):(this.emit("error",new qt),T(this,F,"m",yt).call(this)))}"features"in n&&T(this,F,"m",Te).call(this)}),O(this,N,t,"f"),O(this,j,null,"f"),O(this,le,null,"f"),O(this,ue,!1,"f"),O(this,se,!1,"f"),O(this,Se,T(this,N,"f").features[en].on("change",T(this,Et,"f")),"f"),T(this,F,"m",Te).call(this)}get name(){return T(this,N,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return T(this,N,"f").icon}get readyState(){return T(this,xe,"f")}get publicKey(){return T(this,le,"f")}get connecting(){return T(this,ue,"f")}get supportedTransactionVersions(){return T(this,Fe,"f")}get wallet(){return T(this,N,"f")}get standard(){return!0}destroy(){O(this,j,null,"f"),O(this,le,null,"f"),O(this,ue,!1,"f"),O(this,se,!1,"f");const t=T(this,Se,"f");t&&(O(this,Se,null,"f"),t())}async autoConnect(){return T(this,F,"m",pt).call(this,{silent:!0})}async connect(){return T(this,F,"m",pt).call(this)}async disconnect(){if(It in T(this,N,"f").features)try{O(this,se,!0,"f"),await T(this,N,"f").features[It].disconnect()}catch(t){this.emit("error",new Fn(t==null?void 0:t.message,t))}finally{O(this,se,!1,"f")}T(this,F,"m",yt).call(this)}async sendTransaction(t,n,r={}){try{const s=T(this,j,"f");if(!s)throw new q;let i;if(te in T(this,N,"f").features)if(s.features.includes(te))i=te;else if(z in T(this,N,"f").features&&s.features.includes(z))i=z;else throw new de;else if(z in T(this,N,"f").features){if(!s.features.includes(z))throw new de;i=z}else throw new Ce;const o=Qn(n.rpcEndpoint);if(!s.chains.includes(o))throw new ie;try{const{signers:a,...c}=r;let u;if(ae(t)?(a!=null&&a.length&&t.sign(a),u=t.serialize()):(t=await this.prepareTransaction(t,n,c),a!=null&&a.length&&t.partialSign(...a),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===te){const[l]=await T(this,N,"f").features[te].signAndSendTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:Je(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return ln.encode(l.signature)}else{const[l]=await T(this,N,"f").features[z].signTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:Je(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(l.signedTransaction,{...c,preflightCommitment:Je(c.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof K?a:new ie(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}j=new WeakMap,le=new WeakMap,ue=new WeakMap,se=new WeakMap,Se=new WeakMap,Fe=new WeakMap,N=new WeakMap,xe=new WeakMap,Et=new WeakMap,F=new WeakSet,pt=async function(t){try{if(this.connected||this.connecting)return;if(T(this,xe,"f")!==L.Installed)throw new he;if(O(this,ue,!0,"f"),!T(this,N,"f").accounts.length)try{await T(this,N,"f").features[Xt].connect(t)}catch(r){throw new be(r==null?void 0:r.message,r)}const n=T(this,N,"f").accounts[0];if(!n)throw new de;T(this,F,"m",We).call(this,n)}catch(n){throw this.emit("error",n),n}finally{O(this,ue,!1,"f")}},We=function(t){let n;try{n=new Gt(t.address)}catch(r){throw new Jt(r==null?void 0:r.message,r)}O(this,j,t,"f"),O(this,le,n,"f"),T(this,F,"m",Te).call(this),this.emit("connect",n)},yt=function(){O(this,j,null,"f"),O(this,le,null,"f"),T(this,F,"m",Te).call(this),this.emit("disconnect")},Te=function(){var n,r;const t=te in T(this,N,"f").features?T(this,N,"f").features[te].supportedTransactionVersions:T(this,N,"f").features[z].supportedTransactionVersions;O(this,Fe,Bs(t,["legacy"])?null:new Set(t),"f"),z in T(this,N,"f").features&&((n=T(this,j,"f"))!=null&&n.features.includes(z))?(this.signTransaction=T(this,F,"m",zt),this.signAllTransactions=T(this,F,"m",Ft)):(delete this.signTransaction,delete this.signAllTransactions),Ee in T(this,N,"f").features&&((r=T(this,j,"f"))!=null&&r.features.includes(Ee))?this.signMessage=T(this,F,"m",xt):delete this.signMessage,qe in T(this,N,"f").features?this.signIn=T(this,F,"m",Kt):delete this.signIn},zt=async function(t){try{const n=T(this,j,"f");if(!n)throw new q;if(!(z in T(this,N,"f").features))throw new Ce;if(!n.features.includes(z))throw new de;try{const s=(await T(this,N,"f").features[z].signTransaction({account:n,transaction:ae(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ae(t)?dt.deserialize(s):ut.from(s)}catch(r){throw r instanceof K?r:new oe(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Ft=async function(t){try{const n=T(this,j,"f");if(!n)throw new q;if(!(z in T(this,N,"f").features))throw new Ce;if(!n.features.includes(z))throw new de;try{const r=await T(this,N,"f").features[z].signTransaction(...t.map(s=>({account:n,transaction:ae(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=r[i].signedTransaction;return ae(s)?dt.deserialize(o):ut.from(o)})}catch(r){throw new oe(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},xt=async function(t){try{const n=T(this,j,"f");if(!n)throw new q;if(!(Ee in T(this,N,"f").features))throw new Ce;if(!n.features.includes(Ee))throw new de;try{return(await T(this,N,"f").features[Ee].signMessage({account:n,message:t}))[0].signature}catch(r){throw new Qt(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Kt=async function(t={}){try{if(!(qe in T(this,N,"f").features))throw new Ce;let n;try{[n]=await T(this,N,"f").features[qe].signIn(t)}catch(r){throw new Rt(r==null?void 0:r.message,r)}if(!n)throw new Rt;return T(this,F,"m",We).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const Ws=Vn;var Ds=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Us=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},De;let $;const Ge=new Set;function ks(e){Re=void 0,Ge.add(e)}function zs(e){Re=void 0,Ge.delete(e)}const fe={};function Fs(){if($||($=Object.freeze({register:jt,get:xs,on:Ks}),typeof window>"u"))return $;const e=Object.freeze({register:jt});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new js(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return $}function jt(...e){var t;return e=e.filter(n=>!Ge.has(n)),e.length?(e.forEach(n=>ks(n)),(t=fe.register)==null||t.forEach(n=>_t(()=>n(...e))),function(){var r;e.forEach(s=>zs(s)),(r=fe.unregister)==null||r.forEach(s=>_t(()=>s(...e)))}):()=>{}}let Re;function xs(){return Re||(Re=[...Ge]),Re}function Ks(e,t){var n;return(n=fe[e])!=null&&n.push(t)||(fe[e]=[t]),function(){var s;fe[e]=(s=fe[e])==null?void 0:s.filter(i=>t!==i)}}function _t(e){try{e()}catch(t){console.error(t)}}class js extends Event{get detail(){return Ds(this,De,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),De.set(this,void 0),Us(this,De,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}De=new WeakMap;function Vs(){if($||($=Fs(),typeof window>"u"))return $;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),$;const{register:t}=$,n=(...r)=>r.forEach(s=>_t(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),$}return n(...e),$}function $s(e){const t=Vt(()=>new Set),{get:n,on:r}=Vt(()=>Vs()),[s,i]=y.useState(()=>$t(n()));y.useEffect(()=>{const a=[r("register",(...c)=>i(u=>[...u,...$t(c)])),r("unregister",(...c)=>i(u=>u.filter(l=>c.some(f=>f===l.wallet))))];return()=>a.forEach(c=>c())},[r]);const o=Hs(s);return y.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[o,s]),y.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),y.useMemo(()=>[...s,...e.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,e,t])}function Vt(e){const t=y.useRef();return t.current||(t.current={value:e()}),t.current.value}function Hs(e){const t=y.useRef();return y.useEffect(()=>{t.current=e}),t.current}function $t(e){return e.filter(Ws).map(t=>new Os({wallet:t}))}var ge;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(ge||(ge={}));function Gs(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function Ys({adapters:e,userAgentString:t}){return e.some(n=>n.name!==ee&&n.readyState===L.Installed)?ge.DESKTOP_WEB:t&&/android/i.test(t)&&!Gs(t)?ge.MOBILE_WEB:ge.DESKTOP_WEB}function qs(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function Js({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=y.useRef(!1),[u,l]=y.useState(!1),f=y.useRef(!1),[m,d]=y.useState(!1),[E,b]=y.useState(()=>(n==null?void 0:n.publicKey)??null),[S,_]=y.useState(()=>(n==null?void 0:n.connected)??!1),w=y.useRef(o);y.useEffect(()=>(w.current=o,()=>{w.current=void 0}),[o]);const h=y.useRef((I,P)=>(r.current||(w.current?w.current(I,P):(console.error(I,P),I instanceof he&&typeof window<"u"&&P&&window.open(P.url,"_blank"))),I)),[p,A]=y.useState(()=>t.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==L.Unsupported));y.useEffect(()=>{A(P=>t.map((B,V)=>{const X=P[V];return X&&X.adapter===B&&X.readyState===B.readyState?X:{adapter:B,readyState:B.readyState}}).filter(({readyState:B})=>B!==L.Unsupported));function I(P){A(B=>{const V=B.findIndex(({adapter:Ye})=>Ye===this);if(V===-1)return B;const{adapter:X}=B[V];return[...B.slice(0,V),{adapter:X,readyState:P},...B.slice(V+1)].filter(({readyState:Ye})=>Ye!==L.Unsupported)})}return t.forEach(P=>P.on("readyStateChange",I,P)),()=>{t.forEach(P=>P.off("readyStateChange",I,P))}},[n,t]);const C=y.useMemo(()=>p.find(I=>I.adapter===n)??null,[n,p]);y.useEffect(()=>{if(!n)return;const I=V=>{b(V),c.current=!1,l(!1),_(!0),f.current=!1,d(!1)},P=()=>{r.current||(b(null),c.current=!1,l(!1),_(!1),f.current=!1,d(!1))},B=V=>{h.current(V,n)};return n.on("connect",I),n.on("disconnect",P),n.on("error",B),()=>{n.off("connect",I),n.off("disconnect",P),n.off("error",B),P()}},[n,r]);const R=y.useRef(!1);y.useEffect(()=>()=>{R.current=!1},[n]),y.useEffect(()=>{R.current||c.current||S||!s||!((C==null?void 0:C.readyState)===L.Installed||(C==null?void 0:C.readyState)===L.Loadable)||(c.current=!0,l(!0),R.current=!0,async function(){try{await s()}catch{i()}finally{l(!1),c.current=!1}}())},[S,s,i,C]);const M=y.useCallback(async(I,P,B)=>{if(!n)throw h.current(new vt);if(!S)throw h.current(new q,n);return await n.sendTransaction(I,P,B)},[n,S]),D=y.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!S)throw h.current(new q,n);return await n.signTransaction(I)}:void 0,[n,S]),U=y.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!S)throw h.current(new q,n);return await n.signAllTransactions(I)}:void 0,[n,S]),G=y.useMemo(()=>n&&"signMessage"in n?async I=>{if(!S)throw h.current(new q,n);return await n.signMessage(I)}:void 0,[n,S]),x=y.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),k=y.useCallback(async()=>{if(c.current||f.current||C!=null&&C.adapter.connected)return;if(!C)throw h.current(new vt);const{adapter:I,readyState:P}=C;if(!(P===L.Installed||P===L.Loadable))throw h.current(new he,I);c.current=!0,l(!0);try{await I.connect()}catch(B){throw i(),B}finally{l(!1),c.current=!1}},[i,C]),Ne=y.useCallback(async()=>{if(!f.current&&n){f.current=!0,d(!0);try{await n.disconnect()}finally{d(!1),f.current=!1}}},[n]);return g.createElement(tn.Provider,{value:{autoConnect:!!s,wallets:p,wallet:C,publicKey:E,connected:S,connecting:u,disconnecting:m,select:a,connect:k,disconnect:Ne,sendTransaction:M,signTransaction:D,signAllTransactions:U,signMessage:G,signIn:x}},e)}let ct;function Qs(){var e;return ct===void 0&&(ct=((e=globalThis.navigator)==null?void 0:e.userAgent)??null),ct}function Be(e){const t=Qs();return Ys({adapters:e,userAgentString:t})===ge.MOBILE_WEB}function Zs(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function li({children:e,wallets:t,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=zn(),o=$s(t),a=y.useMemo(()=>{if(!Be(o))return null;const w=o.find(h=>h.name===ee);return w||new vs({addressSelector:Ns(),appIdentity:{uri:Zs()},authorizationResultCache:Ms(),cluster:qs(i==null?void 0:i.rpcEndpoint),onWalletNotFound:Ls()})},[o,i==null?void 0:i.rpcEndpoint]),c=y.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[u,l]=Hn(r,Be(o)?ee:null),f=y.useMemo(()=>c.find(w=>w.name===u)??null,[c,u]),m=y.useCallback(w=>{u!==w&&(f&&f.name!==ee&&f.disconnect(),l(w))},[f,l,u]);y.useEffect(()=>{if(!f)return;function w(){b.current||u===ee&&Be(o)||l(null)}return f.on("disconnect",w),()=>{f.off("disconnect",w)}},[f,o,l,u]);const d=y.useRef(!1),E=y.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(d.current?await f.connect():await f.autoConnect())}},[n,f]),b=y.useRef(!1);y.useEffect(()=>{if(u===ee&&Be(o)){b.current=!1;return}function w(){b.current=!0}return window.addEventListener("beforeunload",w),()=>{window.removeEventListener("beforeunload",w)}},[o,u]);const S=y.useCallback(()=>{f&&f.name!==ee&&m(null)},[f,m]),_=y.useCallback(w=>{d.current=!0,m(w)},[m]);return g.createElement(Js,{wallets:c,adapter:f,isUnloadingRef:b,onAutoConnectRequest:E,onConnectError:S,onError:s,onSelectWallet:_},e)}const In={setVisible(e){console.error(vn("call","setVisible"))},visible:!1};Object.defineProperty(In,"visible",{get(){return console.error(vn("read","visible")),!1}});function vn(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const Nn=y.createContext(In);function Mn(){return y.useContext(Nn)}function Xs({onSelectWallet:e}){const{connect:t,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:u}=nn();let l;r?l="connecting":n?l="connected":i?l="disconnecting":c?l="has-wallet":l="no-wallet";const f=y.useCallback(()=>{t().catch(()=>{})},[t]),m=y.useCallback(()=>{s().catch(()=>{})},[s]),d=y.useCallback(()=>{e({onSelectWallet:a,wallets:u})},[e,a,u]);return{buttonState:l,onConnect:l==="has-wallet"?f:void 0,onDisconnect:l!=="disconnecting"&&l!=="no-wallet"?m:void 0,onSelectWallet:d,publicKey:o??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const Pn=e=>g.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&g.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&g.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),Ln=({wallet:e,...t})=>e&&g.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function ei({walletIcon:e,walletName:t,...n}){return g.createElement(Pn,{...n,className:"wallet-adapter-button-trigger",startIcon:e&&t?g.createElement(Ln,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function ti({children:e,labels:t,...n}){const{setVisible:r}=Mn(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:u}=Xs({onSelectWallet(){r(!0)}}),[l,f]=y.useState(!1),[m,d]=y.useState(!1),E=y.useRef(null);y.useEffect(()=>{const S=_=>{const w=E.current;!w||w.contains(_.target)||d(!1)};return document.addEventListener("mousedown",S),document.addEventListener("touchstart",S),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("touchstart",S)}},[]);const b=y.useMemo(()=>{if(e)return e;if(a){const S=a.toBase58();return S.slice(0,4)+".."+S.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,e,t,a]);return g.createElement("div",{className:"wallet-adapter-dropdown"},g.createElement(ei,{...n,"aria-expanded":m,style:{pointerEvents:m?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":d(!0);break}},walletIcon:c,walletName:u},b),g.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${m&&"wallet-adapter-dropdown-list-active"}`,ref:E,role:"menu"},a?g.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},l?t.copied:t["copy-address"]):null,g.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),d(!1)},role:"menuitem"},t["change-wallet"]),o?g.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),d(!1)},role:"menuitem"},t.disconnect):null))}const Ht=({id:e,children:t,expanded:n=!1})=>{const r=y.useRef(null),s=y.useRef(!0),i="height 250ms ease-out",o=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return y.useLayoutEffect(()=>{n?o():a()},[n]),y.useLayoutEffect(()=>{const c=r.current;if(!c)return;function u(){c&&(c.style.overflow=n?"initial":"hidden",n&&(c.style.height="auto"))}function l(f){c&&f.target===c&&f.propertyName==="height"&&u()}return s.current&&(u(),s.current=!1),c.addEventListener("transitionend",l),()=>c.removeEventListener("transitionend",l)},[n]),g.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},lt=({handleClick:e,tabIndex:t,wallet:n})=>g.createElement("li",null,g.createElement(Pn,{onClick:e,startIcon:g.createElement(Ln,{wallet:n}),tabIndex:t},n.adapter.name,n.readyState===L.Installed&&g.createElement("span",null,"Detected"))),ni=()=>g.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),g.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),g.createElement("g",{clipPath:"url(#clip0_880_5115)"},g.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),g.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),g.createElement("defs",null,g.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#9945FF"}),g.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),g.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),g.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),g.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),g.createElement("stop",{offset:"1",stopColor:"#00D18C"})),g.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#9945FF"}),g.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),g.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),g.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),g.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),g.createElement("stop",{offset:"1",stopColor:"#00D18C"})),g.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#9945FF"}),g.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),g.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),g.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),g.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),g.createElement("stop",{offset:"1",stopColor:"#00D18C"})),g.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#9945FF"}),g.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),g.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),g.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),g.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),g.createElement("stop",{offset:"1",stopColor:"#00D18C"})),g.createElement("clipPath",{id:"clip0_880_5115"},g.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),ri=({className:e="",container:t="body"})=>{const n=y.useRef(null),{wallets:r,select:s}=nn(),{setVisible:i}=Mn(),[o,a]=y.useState(!1),[c,u]=y.useState(!1),[l,f]=y.useState(null),[m,d]=y.useMemo(()=>{const h=[],p=[];for(const A of r)A.readyState===L.Installed?h.push(A):p.push(A);return h.length?[h,p]:[p,[]]},[r]),E=y.useCallback(()=>{u(!1),setTimeout(()=>i(!1),150)},[i]),b=y.useCallback(h=>{h.preventDefault(),E()},[E]),S=y.useCallback((h,p)=>{s(p),b(h)},[s,b]),_=y.useCallback(()=>a(!o),[o]),w=y.useCallback(h=>{const p=n.current;if(!p)return;const A=p.querySelectorAll("button"),C=A[0],R=A[A.length-1];h.shiftKey?document.activeElement===C&&(R.focus(),h.preventDefault()):document.activeElement===R&&(C.focus(),h.preventDefault())},[n]);return y.useLayoutEffect(()=>{const h=A=>{A.key==="Escape"?E():A.key==="Tab"&&w(A)},{overflow:p}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",h,!1),()=>{document.body.style.overflow=p,window.removeEventListener("keydown",h,!1)}},[E,w]),y.useLayoutEffect(()=>f(document.querySelector(t)),[t]),l&&kn.createPortal(g.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${e}`,ref:n,role:"dialog"},g.createElement("div",{className:"wallet-adapter-modal-container"},g.createElement("div",{className:"wallet-adapter-modal-wrapper"},g.createElement("button",{onClick:b,className:"wallet-adapter-modal-button-close"},g.createElement("svg",{width:"14",height:"14"},g.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),m.length?g.createElement(g.Fragment,null,g.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),g.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(h=>g.createElement(lt,{key:h.adapter.name,handleClick:p=>S(p,h.adapter.name),wallet:h})),d.length?g.createElement(Ht,{expanded:o,id:"wallet-adapter-modal-collapse"},d.map(h=>g.createElement(lt,{key:h.adapter.name,handleClick:p=>S(p,h.adapter.name),tabIndex:o?0:-1,wallet:h}))):null),d.length?g.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},g.createElement("span",null,o?"Less ":"More ","options"),g.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},g.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):g.createElement(g.Fragment,null,g.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),g.createElement("div",{className:"wallet-adapter-modal-middle"},g.createElement(ni,null)),d.length?g.createElement(g.Fragment,null,g.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},g.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),g.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},g.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),g.createElement(Ht,{expanded:o,id:"wallet-adapter-modal-collapse"},g.createElement("ul",{className:"wallet-adapter-modal-list"},d.map(h=>g.createElement(lt,{key:h.adapter.name,handleClick:p=>S(p,h.adapter.name),tabIndex:o?0:-1,wallet:h}))))):null))),g.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:b})),l)},ui=({children:e,...t})=>{const[n,r]=y.useState(!1);return g.createElement(Nn.Provider,{value:{visible:n,setVisible:r}},e,n&&g.createElement(ri,{...t}))},si={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function di(e){return g.createElement(ti,{...e,labels:si})}export{ci as C,di as W,nn as a,li as b,ui as c,zn as u};
